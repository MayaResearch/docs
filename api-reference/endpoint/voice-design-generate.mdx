---
title: 'Generate Speech with Voice Design'
openapi: 'POST /v1/tts/generate'
description: 'Generate speech using pre-designed character voices'
sidebarTitle: 'Generate Speech'
'og:title': 'Generate Speech API - Maya Research Voice Design'
'og:description': 'Generate high-quality speech with pre-designed character voices'
---

<Note>
  This endpoint generates high-quality speech audio using pre-designed character voices. Supports streaming, emotional tags, and verbose output.
</Note>

<ParamField header="X-API-Key" type="string" required placeholder="maya_YOUR_API_KEY_HERE">
  API key for authentication
</ParamField>

## Request Body

<ParamField body="character_id" type="string" required default="m4a7b2">
  The unique identifier of a pre-designed character from the Get Characters endpoint
</ParamField>

<ParamField body="text" type="string" required default="Hello! Welcome to our podcast.">
  The text to convert to speech. Supports emotional tags like `<excited>`, `<curious>`, `<gasp>`, etc.
  
  **Max Length:** 5,000 characters
</ParamField>

<ParamField body="stream" type="boolean" default={false}>
  Enable streaming audio generation
  - `true` - Stream audio chunks as they're generated (lower latency)
  - `false` - Return complete audio file after processing
</ParamField>

## Emotional Tags

Enhance expressiveness by including emotional tags in your text:

<CardGroup cols={3}>
  <Card title="excited" icon="star">
    `<excited>text</excited>`
  </Card>
  <Card title="curious" icon="magnifying-glass">
    `<curious>text</curious>`
  </Card>
  <Card title="gasp" icon="face-surprise">
    `<gasp>text</gasp>`
  </Card>
  <Card title="giggle" icon="face-smile">
    `<giggle>text</giggle>`
  </Card>
  <Card title="sigh" icon="cloud">
    `<sigh>text</sigh>`
  </Card>
  <Card title="whisper" icon="volume-low">
    `<whisper>text</whisper>`
  </Card>
  <Card title="shout" icon="volume-high">
    `<shout>text</shout>`
  </Card>
  <Card title="happy" icon="face-grin">
    `<happy>text</happy>`
  </Card>
  <Card title="sad" icon="face-frown">
    `<sad>text</sad>`
  </Card>
</CardGroup>

<RequestExample>

```bash cURL
curl --location 'https://v3.mayaresearch.ai/v1/tts/generate' \
--header 'Content-Type: application/json' \
--header 'X-API-Key: maya_YOUR_API_KEY_HERE' \
--data '{
  "character_id": "m4a7b2",
  "text": "Hello! Welcome to our podcast.",
  "stream": false
}'
```

```javascript JavaScript
const response = await fetch('https://v3.mayaresearch.ai/v1/tts/generate', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'X-API-Key': 'maya_YOUR_API_KEY_HERE'
  },
  body: JSON.stringify({
    character_id: "m4a7b2",
    text: "Hello! Welcome to our podcast.",
    stream: false
  })
});

const audioData = await response.blob();
// Play or save the audio data
```

```python Python
import requests

url = "https://v3.mayaresearch.ai/v1/tts/generate"
headers = {
    "Content-Type": "application/json",
    "X-API-Key": "maya_YOUR_API_KEY_HERE"
}
payload = {
    "character_id": "m4a7b2",
    "text": "Hello! Welcome to our podcast.",
    "stream": False
}

response = requests.post(url, json=payload, headers=headers)

if response.status_code == 200:
    # Save the audio file
    with open("output.wav", "wb") as f:
        f.write(response.content)
```

```php PHP
<?php
$url = 'https://v3.mayaresearch.ai/v1/tts/generate';
$data = array(
    'character_id' => 'm4a7b2',
    'text' => 'Hello! Welcome to our podcast.',
    'stream' => false
);

$options = array(
    'http' => array(
        'header'  => array(
            'Content-Type: application/json',
            'X-API-Key: maya_YOUR_API_KEY_HERE'
        ),
        'method'  => 'POST',
        'content' => json_encode($data)
    )
);

$context  = stream_context_create($options);
$result = file_get_contents($url, false, $context);

if ($result !== FALSE) {
    file_put_contents('output.wav', $result);
}
?>
```

```java Java
import java.io.*;
import java.net.HttpURLConnection;
import java.net.URL;

public class VoiceDesignExample {
    public static void main(String[] args) throws IOException {
        URL url = new URL("https://v3.mayaresearch.ai/v1/tts/generate");
        HttpURLConnection con = (HttpURLConnection) url.openConnection();
        con.setRequestMethod("POST");
        con.setRequestProperty("Content-Type", "application/json");
        con.setRequestProperty("X-API-Key", "maya_YOUR_API_KEY_HERE");
        con.setDoOutput(true);
        
        String jsonInputString = "{" +
            "\"character_id\": \"m4a7b2\"," +
            "\"text\": \"Hello! Welcome to our podcast.\"," +
            "\"stream\": false" +
        "}";
        
        try(OutputStream os = con.getOutputStream()) {
            byte[] input = jsonInputString.getBytes("utf-8");
            os.write(input, 0, input.length);           
        }
        
        // Read and save the audio response
        try(InputStream is = con.getInputStream();
            FileOutputStream fos = new FileOutputStream("output.wav")) {
            byte[] buffer = new byte[4096];
            int bytesRead;
            while ((bytesRead = is.read(buffer)) != -1) {
                fos.write(buffer, 0, bytesRead);
            }
        }
    }
}
```

</RequestExample>

## Response

<ResponseField name="audio" type="binary">
  The generated audio file in WAV or MP3 format
  
  **Audio Specifications:**
  - Sample Rate: 22,050 Hz or 24,000 Hz
  - Bit Depth: 16-bit
  - Format: WAV/MP3
  - Quality: Studio-quality, noise-free
</ResponseField>

<ResponseField name="metadata" type="object" condition="verbose=true">
  Additional metadata about the generation (only when verbose is enabled)
  
  <Expandable title="Metadata Object">
    <ResponseField name="duration" type="number">
      Audio duration in seconds
    </ResponseField>
    
    <ResponseField name="sample_rate" type="number">
      Sample rate of the generated audio
    </ResponseField>
    
    <ResponseField name="character_used" type="string">
      Character ID used for generation
    </ResponseField>
    
    <ResponseField name="processing_time" type="number">
      Time taken to generate the audio in seconds
    </ResponseField>
    
    <ResponseField name="text_length" type="number">
      Length of the input text in characters
    </ResponseField>
    
    <ResponseField name="emotional_tags_detected" type="array">
      List of emotional tags detected in the input text
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseExample>

```json Success Response (Headers)
{
  "Content-Type": "audio/wav",
  "Content-Length": "1245678",
  "X-Request-Id": "req_xyz789abc",
  "X-Processing-Time": "1.2s",
  "X-Character-ID": "m4a7b2"
}
```

```json Verbose Response (with metadata)
{
  "audio": "<binary_audio_data>",
  "metadata": {
    "duration": 5.2,
    "sample_rate": 22050,
    "character_used": "m4a7b2",
    "processing_time": 1.2,
    "text_length": 35,
    "emotional_tags_detected": []
  }
}
```

```json Error Response - Invalid Character
{
  "error": {
    "code": "invalid_character",
    "message": "Character ID 'invalid_id' not found",
    "type": "validation_error"
  }
}
```

```json Error Response - Missing Parameters
{
  "error": {
    "code": "missing_parameters",
    "message": "Either 'character_id' or 'description' must be provided",
    "type": "validation_error"
  }
}
```

</ResponseExample>

## Example Use Cases

<Tabs>
  <Tab title="Customer Support">
    ```json
    {
      "character_id": "m4a7b2",
      "text": "Thank you for calling customer support. How may I assist you today?",
      "stream": false
    }
    ```
  </Tab>
  
  <Tab title="With Emotional Expression">
    ```json
    {
      "character_id": "f2k9x1",
      "text": "<excited> Oh my gosh, you won't believe what happened today! <giggle> It was absolutely incredible. <happy> I can't wait to tell you all about it!",
      "stream": false
    }
    ```
  </Tab>
  
  <Tab title="Podcast with Streaming">
    ```json
    {
      "character_id": "m4a7b2",
      "text": "Welcome back to another episode! Today we're diving into an absolutely fascinating topic. <curious> Have you ever wondered how AI voices actually work? Let's explore that together.",
      "stream": true
    }
    ```
  </Tab>
</Tabs>

## Streaming Response

When `stream` is set to `true`, the API returns audio chunks as they are generated for lower latency:

```javascript Streaming Example
const response = await fetch('https://v3.mayaresearch.ai/v1/tts/generate', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'X-API-Key': 'maya_YOUR_API_KEY_HERE'
  },
  body: JSON.stringify({
    character_id: "m4a7b2",
    text: "Long text for streaming...",
    stream: true
  })
});

const reader = response.body.getReader();
const audioChunks = [];

while (true) {
  const { done, value } = await reader.read();
  if (done) break;
  audioChunks.push(value);
  
  // Process or play audio chunk immediately for real-time playback
  await playAudioChunk(value);
}

// Optionally combine all chunks for complete audio
const completeAudio = new Blob(audioChunks, { type: 'audio/wav' });
```

<Tip>
  Use streaming mode for:
  - Real-time voice assistants and chatbots
  - Interactive applications where latency matters
  - Long-form content where you want to start playback immediately
  - Live customer support systems
</Tip>

## Best Practices

<AccordionGroup>
  <Accordion title="Choose the Right Character" icon="user-check">
    Browse available characters using the Get Characters endpoint and select one that matches your use case and target audience.
  </Accordion>
  
  <Accordion title="Use Emotional Tags Effectively" icon="face-smile">
    - Place tags just before the text they should affect
    - Don't overuse - natural speech has variation
    - Test different tags to find what works best
  </Accordion>
  
  <Accordion title="Match Voice to Content" icon="arrows-turn-to-dots">
    - Customer service → Friendly, patient, clear voices
    - Podcast → Conversational, warm, engaging voices
    - Audiobook → Clear, expressive, consistent voices
    - Professional → Authoritative, confident, polished voices
  </Accordion>
  
  <Accordion title="Optimize for Performance" icon="rocket">
    - Enable streaming for interactive applications
    - Cache character IDs for repeated use
    - Break long text into manageable chunks
  </Accordion>
</AccordionGroup>

## Error Codes

<Warning>
  Always implement proper error handling and retry logic with exponential backoff for rate limits.
</Warning>

| Code | Description | Resolution |
|------|-------------|------------|
| 400 | Invalid request format | Check JSON syntax and ensure required fields are present |
| 401 | Authentication failed | Verify your API key is correct and properly formatted |
| 403 | Access denied | Check API permissions and usage quotas |
| 404 | Character not found | Verify the character_id exists using Get Characters endpoint |
| 413 | Text too long | Reduce text length to under 5,000 characters |
| 429 | Rate limit exceeded | Implement exponential backoff and retry after specified time |
| 500 | Internal server error | Contact support if the error persists |

## Rate Limits

<Info>
  **Default Rate Limits:**
  - 50 requests per minute
  - 500 requests per hour
  - 5,000 requests per day
  
  Contact support for higher limits or enterprise plans.
</Info>

## Performance Tips

<CardGroup cols={2}>
  <Card title="Cache Character IDs" icon="rocket">
    Store and reuse character IDs for consistent voice across your application.
  </Card>
  <Card title="Enable Streaming" icon="bolt">
    Streaming reduces perceived latency for interactive applications and long content.
  </Card>
  <Card title="Batch Requests" icon="layer-group">
    Generate multiple audio files in parallel when possible to maximize throughput.
  </Card>
  <Card title="Optimize Text" icon="text">
    Break very long text into manageable chunks (under 1,000 characters) for better performance.
  </Card>
</CardGroup>

<Tip>
  **Pro tip:** For consistent brand voice across your application, select the right character once, test thoroughly, then reuse the same character_id for all subsequent generations.
</Tip>

